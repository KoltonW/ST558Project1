<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="project-1">Project 1</h1>
<p>Kolton Wiebusch 9/15/2020</p>
<ul>
<li><a href="#purpose">Purpose</a></li>
<li><a href="#initial-setup">Initial Setup</a>
<ul>
<li><a href="#required-packages">Required Packages</a></li>
<li><a href="#nhl-records-api">NHL Records API</a></li>
<li><a href="#nhl-stats-api">NHL Stats API</a></li>
<li><a href="#wrapper-function">Wrapper Function</a></li>
</ul></li>
<li><a href="#exploratory-data-analysis">Exploratory Data Analysis</a>
<ul>
<li><a href="#joining-of-datasets">Joining of Datasets</a></li>
<li><a href="#new-variables">New variables</a></li>
<li><a href="#contingency-tables">Contingency tables</a></li>
<li><a href="#numerical-summaries">Numerical Summaries</a></li>
<li><a href="#plots">Plots</a></li>
</ul></li>
</ul>
<h1 id="purpose">Purpose</h1>
<p>The purpose of this project is to create a vignette reading and summarizing data taken from NHL API’s in order to analyze the data.</p>
<h1 id="initial-setup">Initial Setup</h1>
<p>This first section goes through the behind the scenes work of creating functions to pull in data for later use</p>
<h2 id="required-packages">Required Packages</h2>
<p>These are the packages used in this project.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(jsonlite)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">library</span>(httr)</span></code></pre></div>
<h2 id="nhl-records-api">NHL Records API</h2>
<p>This entails the creating of the functions to call on the NHL records data</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>getFranchise &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">ID =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb2-2"><a href="#cb2-2"></a>  franchise &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>  franchise &lt;-<span class="st"> </span><span class="kw">content</span>(franchise, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>  franchise &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(franchise, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a>  franchise &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(franchise)</span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID)){</span>
<span id="cb2-7"><a href="#cb2-7"></a>      <span class="kw">return</span>(<span class="kw">filter</span>(franchise, data.mostRecentTeamId <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb2-8"><a href="#cb2-8"></a>    } <span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.character</span>(ID)){</span>
<span id="cb2-9"><a href="#cb2-9"></a>      <span class="kw">return</span>(<span class="kw">filter</span>(franchise, data.teamCommonName <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb2-10"><a href="#cb2-10"></a>    }</span>
<span id="cb2-11"><a href="#cb2-11"></a>  <span class="kw">return</span>(franchise)</span>
<span id="cb2-12"><a href="#cb2-12"></a>} </span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>getFranchiseTotals &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">ID =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb2-15"><a href="#cb2-15"></a>  totals &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-team-totals&quot;</span>)</span>
<span id="cb2-16"><a href="#cb2-16"></a>  totals &lt;-<span class="st"> </span><span class="kw">content</span>(totals, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb2-17"><a href="#cb2-17"></a>  totals &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(totals, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb2-18"><a href="#cb2-18"></a>  totals &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(totals)</span>
<span id="cb2-19"><a href="#cb2-19"></a>    <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID)){</span>
<span id="cb2-20"><a href="#cb2-20"></a>      <span class="kw">return</span>(<span class="kw">filter</span>(totals, data.franchiseId <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb2-21"><a href="#cb2-21"></a>    } <span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.character</span>(ID)){</span>
<span id="cb2-22"><a href="#cb2-22"></a>      <span class="kw">return</span>(<span class="kw">filter</span>(totals, data.teamName <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb2-23"><a href="#cb2-23"></a>    }</span>
<span id="cb2-24"><a href="#cb2-24"></a>  <span class="kw">return</span>(totals)</span>
<span id="cb2-25"><a href="#cb2-25"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>getFranchiseSeasonRecords &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">ID =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="cf">if</span>(<span class="kw">is.character</span>(ID)){</span>
<span id="cb3-3"><a href="#cb3-3"></a>  recordsURL &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-season-records&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a>  records &lt;-<span class="st"> </span><span class="kw">content</span>(recordsURL, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a>  records &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(records, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a>  records &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(records)</span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="kw">return</span>(<span class="kw">filter</span>(records, data.franchiseName <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb3-8"><a href="#cb3-8"></a>  }<span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID)){</span>
<span id="cb3-9"><a href="#cb3-9"></a>  recordsURL &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-season-records?cayenneExp=franchiseId=&quot;</span>, ID))</span>
<span id="cb3-10"><a href="#cb3-10"></a>  records &lt;-<span class="st"> </span><span class="kw">content</span>(recordsURL, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb3-11"><a href="#cb3-11"></a>  records &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(records, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb3-12"><a href="#cb3-12"></a>  records &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(records)</span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="kw">return</span>(records)</span>
<span id="cb3-14"><a href="#cb3-14"></a>  }</span>
<span id="cb3-15"><a href="#cb3-15"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>getFranchiseGoalieRecords &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">ID =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb4-2"><a href="#cb4-2"></a>    <span class="cf">if</span>(<span class="kw">is.character</span>(ID)){</span>
<span id="cb4-3"><a href="#cb4-3"></a>  goalie &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-goalie-records&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>  goalie &lt;-<span class="st"> </span><span class="kw">content</span>(goalie, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>  goalie &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(goalie, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a>  goalie &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(goalie)</span>
<span id="cb4-7"><a href="#cb4-7"></a>  <span class="kw">return</span>(<span class="kw">filter</span>(goalie, data.franchiseName <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb4-8"><a href="#cb4-8"></a>  }<span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID)){</span>
<span id="cb4-9"><a href="#cb4-9"></a>  goalie &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-goalie-records?cayenneExp=franchiseId=&quot;</span>, ID))</span>
<span id="cb4-10"><a href="#cb4-10"></a>  goalie &lt;-<span class="st"> </span><span class="kw">content</span>(goalie, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a>  goalie &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(goalie, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a>  goalie &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(goalie)</span>
<span id="cb4-13"><a href="#cb4-13"></a>  <span class="kw">return</span>(goalie)</span>
<span id="cb4-14"><a href="#cb4-14"></a>  }</span>
<span id="cb4-15"><a href="#cb4-15"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>getFranchiseSkaterRecords &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">ID =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="cf">if</span>(<span class="kw">is.character</span>(ID)){</span>
<span id="cb5-3"><a href="#cb5-3"></a>  skater &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-skater-records&quot;</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a>  skater &lt;-<span class="st"> </span><span class="kw">content</span>(skater, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb5-5"><a href="#cb5-5"></a>  skater &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(skater, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb5-6"><a href="#cb5-6"></a>  skater &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(skater)</span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="kw">return</span>(<span class="kw">filter</span>(skater, data.franchiseName <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb5-8"><a href="#cb5-8"></a>  }<span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID)){</span>
<span id="cb5-9"><a href="#cb5-9"></a>  skater &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://records.nhl.com/site/api/franchise-skater-records?cayenneExp=franchiseId=&quot;</span>, ID))</span>
<span id="cb5-10"><a href="#cb5-10"></a>  skater &lt;-<span class="st"> </span><span class="kw">content</span>(skater, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb5-11"><a href="#cb5-11"></a>  skater &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(skater, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb5-12"><a href="#cb5-12"></a>  skater &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(skater)</span>
<span id="cb5-13"><a href="#cb5-13"></a>  <span class="kw">return</span>(skater)</span>
<span id="cb5-14"><a href="#cb5-14"></a>  }</span>
<span id="cb5-15"><a href="#cb5-15"></a>}</span></code></pre></div>
<h2 id="nhl-stats-api">NHL Stats API</h2>
<p>This entails the creating of the function to call on the NHL stats data</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>   <span class="co">#Setting up modifiers</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="st">&quot;?expand=team.roster&quot;</span> -&gt;<span class="st"> </span>mfirst</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="st">&quot;?expand=person.names&quot;</span> -&gt;<span class="st"> </span>msecond</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="st">&quot;?expand=team.schedule.next&quot;</span> -&gt;<span class="st"> </span>mthird</span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="st">&quot;?expand=team.schedule.previous&quot;</span> -&gt;<span class="st"> </span>mfourth</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="st">&quot;?expand=team.stats&quot;</span> -&gt;<span class="st"> </span>mfifth</span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="st">&quot;?expand=team.roster&amp;season=&quot;</span> -&gt;<span class="st"> </span>msixth</span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="st">&quot;?teamId=&quot;</span> -&gt;<span class="st"> </span>mseventh</span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="st">&quot;?stats=statsSingleSeasonPlayoffs&quot;</span> -&gt;<span class="st"> </span>meighth</span>
<span id="cb6-10"><a href="#cb6-10"></a>  </span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="co">#Creating function to get stats </span></span>
<span id="cb6-12"><a href="#cb6-12"></a>getNHLStats &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">ID =</span> <span class="ot">NULL</span>, <span class="dt">modifier =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb6-13"><a href="#cb6-13"></a>    stats &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="st">&quot;https://statsapi.web.nhl.com/api/v1/teams&quot;</span>)</span>
<span id="cb6-14"><a href="#cb6-14"></a>    stats &lt;-<span class="st"> </span><span class="kw">content</span>(stats, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb6-15"><a href="#cb6-15"></a>    stats &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(stats, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-16"><a href="#cb6-16"></a>    stats &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(stats)</span>
<span id="cb6-17"><a href="#cb6-17"></a>    <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.character</span>(modifier)){</span>
<span id="cb6-18"><a href="#cb6-18"></a>      stats &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://statsapi.web.nhl.com/api/v1/teams/&quot;</span>, ID, <span class="st">&quot;/&quot;</span>, modifier))</span>
<span id="cb6-19"><a href="#cb6-19"></a>      stats &lt;-<span class="st"> </span><span class="kw">content</span>(stats, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb6-20"><a href="#cb6-20"></a>      stats &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(stats, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-21"><a href="#cb6-21"></a>      stats &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(stats)</span>
<span id="cb6-22"><a href="#cb6-22"></a>      <span class="kw">return</span>(stats)</span>
<span id="cb6-23"><a href="#cb6-23"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.character</span>(ID) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.character</span>(modifier)){</span>
<span id="cb6-24"><a href="#cb6-24"></a>      stats &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://statsapi.web.nhl.com/api/v1/teams/&quot;</span>, ID, <span class="st">&quot;/&quot;</span>, modifier))</span>
<span id="cb6-25"><a href="#cb6-25"></a>      stats &lt;-<span class="st"> </span><span class="kw">content</span>(stats, <span class="st">&quot;text&quot;</span>)</span>
<span id="cb6-26"><a href="#cb6-26"></a>      stats &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(stats, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-27"><a href="#cb6-27"></a>      stats &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(stats)</span>
<span id="cb6-28"><a href="#cb6-28"></a>      <span class="kw">return</span>(stats)</span>
<span id="cb6-29"><a href="#cb6-29"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.numeric</span>(ID)){</span>
<span id="cb6-30"><a href="#cb6-30"></a>      <span class="kw">return</span>(<span class="kw">filter</span>(stats, teams.franchiseId <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb6-31"><a href="#cb6-31"></a>    } <span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.character</span>(ID)){</span>
<span id="cb6-32"><a href="#cb6-32"></a>      <span class="kw">return</span>(<span class="kw">filter</span>(stats, teams.name <span class="op">==</span><span class="st"> </span>ID <span class="op">|</span><span class="st"> </span>teams.teamName <span class="op">==</span><span class="st"> </span>ID <span class="op">|</span><span class="st"> </span>teams.abbreviation <span class="op">==</span><span class="st"> </span>ID <span class="op">|</span><span class="st"> </span>teams.shortName <span class="op">==</span><span class="st"> </span>ID))</span>
<span id="cb6-33"><a href="#cb6-33"></a>    }</span>
<span id="cb6-34"><a href="#cb6-34"></a>  <span class="kw">return</span>(stats)</span>
<span id="cb6-35"><a href="#cb6-35"></a>}</span></code></pre></div>
<h2 id="wrapper-function">Wrapper Function</h2>
<p>This function acts as a wrapper for all the previously discussed endpoints for NHL records and stats.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>getNHL &lt;-<span class="st"> </span><span class="cf">function</span>(FUN, <span class="dt">ID =</span> <span class="ot">NULL</span>, <span class="dt">m =</span> <span class="ot">NULL</span>, ...){</span>
<span id="cb7-2"><a href="#cb7-2"></a>  FUN &lt;-<span class="st"> </span><span class="kw">match.fun</span>(FUN)</span>
<span id="cb7-3"><a href="#cb7-3"></a>  ID &lt;-<span class="st"> </span>ID</span>
<span id="cb7-4"><a href="#cb7-4"></a>  modifier &lt;-<span class="st"> </span>m</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="kw">return</span>(<span class="kw">FUN</span>(ID, modifier, ...))</span>
<span id="cb7-6"><a href="#cb7-6"></a>}</span></code></pre></div>
<h1 id="exploratory-data-analysis">Exploratory Data Analysis</h1>
<p>The next section’s purpose is to explore and analyze the NHL data with specifications detailed in the assignment instructions.</p>
<h2 id="joining-of-datasets">Joining of Datasets</h2>
<p>Joining two data sets(according to franchiseAbbrv) for further data exploration</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">#Filtering for active franchises only and renaming to get ready for join</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw">getFranchiseTotals</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(data.activeFranchise <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rename</span>(<span class="dt">franchiseAbbrv =</span> data.triCode) -&gt;<span class="st"> </span>fTT</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">#narrowing down the stats data to return only a few variables</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="kw">getNHLStats</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rename</span>(<span class="dt">franchiseAbbrv =</span> teams.abbreviation) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(franchiseAbbrv, teams.division.name, teams.conference.name) -&gt;<span class="st"> </span>fTT2</span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#Full join on franchiseAbbrv</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="kw">full_join</span>(fTT, fTT2) -&gt;<span class="st"> </span>joinedStats</span></code></pre></div>
<h2 id="new-variables">New variables</h2>
<p>Creating new variables for later analysis</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">goalDifferential =</span> data.goalsFor <span class="op">-</span><span class="st"> </span>data.goalsAgainst) -&gt;<span class="st"> </span>joinedStats</span>
<span id="cb9-2"><a href="#cb9-2"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">penaltyMinsPerGame =</span> data.penaltyMinutes<span class="op">/</span>data.gamesPlayed) -&gt;<span class="st"> </span>joinedStats</span>
<span id="cb9-3"><a href="#cb9-3"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">winPercentage =</span> data.wins<span class="op">/</span>data.gamesPlayed) -&gt;<span class="st"> </span>joinedStats</span>
<span id="cb9-4"><a href="#cb9-4"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">shutoutPercentage =</span> data.shutouts<span class="op">/</span>data.wins) -&gt;<span class="st"> </span>joinedStats</span>
<span id="cb9-5"><a href="#cb9-5"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">shootoutWinPercentage =</span> ((data.shootoutWins)<span class="op">/</span>(data.shootoutWins <span class="op">+</span><span class="st"> </span>data.shootoutLosses))) -&gt;<span class="st"> </span>joinedStats</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#This code chunk separates joinedStats into Regular season and playoff stats for active teams</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>joinedStats<span class="op">$</span>data.gameTypeId &lt;-<span class="st"> </span><span class="kw">as.factor</span>(joinedStats<span class="op">$</span>data.gameTypeId)</span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="kw">levels</span>(joinedStats<span class="op">$</span>data.gameTypeId) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;RegularSeason&quot;</span>, <span class="st">&quot;Playoffs&quot;</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(data.gameTypeId <span class="op">==</span><span class="st"> &quot;RegularSeason&quot;</span> <span class="op">&amp;</span><span class="st"> </span>teams.division.name <span class="op">!=</span><span class="st"> </span><span class="kw">is.na</span>(joinedStats<span class="op">$</span>teams.division.name)) -&gt;<span class="st"> </span>RegularSeasonStats</span>
<span id="cb10-5"><a href="#cb10-5"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(data.gameTypeId <span class="op">==</span><span class="st"> &quot;Playoffs&quot;</span> <span class="op">&amp;</span><span class="st"> </span>teams.division.name <span class="op">!=</span><span class="st"> </span><span class="kw">is.na</span>(joinedStats<span class="op">$</span>teams.division.name)) -&gt;<span class="st"> </span>PlayoffStats</span></code></pre></div>
<h2 id="contingency-tables">Contingency tables</h2>
<p>Here, some contingency tables are returned. For the first one, you can see a breakdown of how many teams are in each division and conference overall. For the second and third tables, I wanted to take a closer look at my <em>favorite</em> team, the <strong>St. Louis Blues</strong>. The second table gives a breakdown of their current roster by position type, and the third table goes a step further and gives a breakdown of the number of position names within each position type.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">kable</span>(<span class="kw">table</span>(RegularSeasonStats<span class="op">$</span>teams.conference.name, RegularSeasonStats<span class="op">$</span>teams.division.name))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Atlantic</th>
<th align="right">Central</th>
<th align="right">Metropolitan</th>
<th align="right">Pacific</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Eastern</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Western</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">8</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">#Return the Blues roster and break it down</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">getNHLStats</span>(<span class="dv">19</span>, mfirst) -&gt;<span class="st"> </span>g</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="kw">as.data.frame</span>(g[[<span class="dv">31</span>]]) -&gt;<span class="st"> </span>BluesRoster</span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="kw">kable</span>(<span class="kw">table</span>(BluesRoster<span class="op">$</span>position.type))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">Var1</th>
<th align="right">Freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Defenseman</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="left">Forward</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">Goalie</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">kable</span>(<span class="kw">table</span>(BluesRoster<span class="op">$</span>position.name, BluesRoster<span class="op">$</span>position.type))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Defenseman</th>
<th align="right">Forward</th>
<th align="right">Goalie</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Center</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Defenseman</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Goalie</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Left Wing</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Right Wing</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<h2 id="numerical-summaries">Numerical Summaries</h2>
<p>Here are some numerical summaries on quantitative variables that I have created at different settings of categorical variables in the dataset.</p>
<p>The first summary shows that teams amount more penalty minutes per game in the playoffs than in the regular season. When broken down further in the second summary, we can see that the Central division amounts considerably less penalty minutes per game than the other three divisions, and that the Pacific division not only averages the most penalty minutes per game in the playoffs, but also has the greatest jump in MPG from the regular season to the playoffs.</p>
<p>The third summary shows averages and standard deviations for the shutout percentage, or the percent of time that the winning team does not allow the opposing team to score a goal all game. We can see a jump in percentages from the regular season to the playoffs, possibly because of more stifling defense. Also, the Eastern conference makes the better improvement between the two conferences between game types. The last summary breaks the conferences down into divisions. The Atlantic division in the Eastern conference seems to be the source of this jump, as their average shutout percentage in the playoffs is the highest among all groups, while the Pacific division has the lowest average with the highest standard deviation.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co">#Filtering out teams that are not current at this moment</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>joinedStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(teams.division.name <span class="op">!=</span><span class="st"> </span><span class="kw">is.na</span>(joinedStats<span class="op">$</span>teams.division.name)) -&gt;<span class="st"> </span>activeTeamStats</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">#Returning numerical summaries</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>activeTeamStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(data.gameTypeId) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">avgPenaltyMPG =</span> <span class="kw">round</span>(<span class="kw">mean</span>(penaltyMinsPerGame), <span class="dv">3</span>), <span class="dt">sdPenaltyMPG =</span> <span class="kw">round</span>(<span class="kw">sd</span>(penaltyMinsPerGame), <span class="dv">3</span>))</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a>activeTeamStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(data.gameTypeId, teams.conference.name, teams.division.name) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">avgPenaltyMPG =</span> <span class="kw">round</span>(<span class="kw">mean</span>(penaltyMinsPerGame), <span class="dv">3</span>), <span class="dt">sdPenaltyMPG =</span> <span class="kw">round</span>(<span class="kw">sd</span>(penaltyMinsPerGame), <span class="dv">3</span>))</span>
<span id="cb14-8"><a href="#cb14-8"></a></span>
<span id="cb14-9"><a href="#cb14-9"></a>activeTeamStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(data.gameTypeId, teams.conference.name) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">avgShutoutPctg =</span> <span class="kw">round</span>(<span class="kw">mean</span>(shutoutPercentage), <span class="dv">3</span>), <span class="dt">sdShutoutPctg =</span> <span class="kw">round</span>(<span class="kw">sd</span>(shutoutPercentage), <span class="dv">3</span>))</span>
<span id="cb14-10"><a href="#cb14-10"></a></span>
<span id="cb14-11"><a href="#cb14-11"></a>activeTeamStats <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(data.gameTypeId, teams.conference.name, teams.division.name) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">avgShutoutPctg =</span> <span class="kw">round</span>(<span class="kw">mean</span>(shutoutPercentage), <span class="dv">3</span>), <span class="dt">sdShutoutPctg =</span> <span class="kw">round</span>(<span class="kw">sd</span>(shutoutPercentage), <span class="dv">3</span>))</span></code></pre></div>
<h2 id="plots">Plots</h2>
<p>This section includes various plots giving a visual summary of the data.</p>

</body>
</html>
